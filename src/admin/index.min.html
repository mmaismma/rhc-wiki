<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1"><meta property="og:site_name" content="RHC Wiki"><meta name="description" content="Have you ever wanted to contribute to the r/Hermitcraft Wiki but you stopped short for some reason? Not sure how you could help? Wanted to pass on some info but didn't want to write a whole page about it? We have the answer for you! Our aim is to improve the r/HermitCraft wiki and make it a resource we can all use to learn more, settle disputes or just nerd out for a while. This is a mammoth task and we need a lot of help achieving it. This is where you can come in."><meta property="og:url" content="https://rhc-wiki.web.app/admin/"><meta property="og:image" content="https://rhc-wiki.web.app/assets/icons/hc8-text%20dark-green.png"><meta property="og:locale" content="en_US"><link rel="canonical" href="https://rhc-wiki.web.app/admin/"><meta name="mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-title" content="RHC Wiki"><meta name="apple-mobile-web-app-status-bar-style" content="#2bda9d"><meta name="theme-color" content="#2bda9d"><link rel="shortcut icon" sizes="32x32" href="../assets/icons/favicon.ico"><link rel="shortcut icon" sizes="48x48" href="../assets/icons/favicon48x48.ico"><link rel="shortcut icon" sizes="128x128" href="../assets/icons/favicon128x128.ico"><title>Admin portal for RHC Wiki: Operation Improve The Wiki</title><style>html{--positive-green:#27993e;--negative-red:#f8513d;--fancy-blue:#1a66d7;--color-scale-black:#1b1f23;--color-scale-white:#fff;--color-scale-gray-0:#fafbfc;--color-scale-gray-1:#f6f8fa;--color-scale-gray-2:#e1e4e8;--color-scale-gray-3:#d1d5da;--color-scale-gray-4:#959da5;--color-scale-gray-5:#6a737d;--color-scale-gray-6:#586069;--color-scale-gray-7:#444d56;--color-scale-gray-8:#2f363d;--color-scale-gray-9:#24292e;--color-header-bg:hsl(210, 22%, 12%);color-scheme:dark}*{box-sizing:border-box;overflow:hidden}body,html{width:100%;height:100%;padding:0;margin:0;font-size:100%;font-family:-apple-system,BlinkMacSystemFont,'Segoe UI',Roboto,Oxygen,Ubuntu,Cantarell,'Open Sans','Helvetica Neue',sans-serif;background:var(--color-scale-black);color:var(--color-scale-white)!important}body{display:grid;grid-template-areas:"head head""nav main""nav describers";grid-template-rows:40px auto max(20px,20%);grid-template-columns:min(30%,200px)}h1{font-size:1em;letter-spacing:1px;text-align:center;display:inline-block;margin:0}header{width:100%;background-color:var(--color-header-bg);padding:5px 10px;display:grid;align-items:center;grid-template-columns:max-content auto;grid-area:head;color:#fff}header #sign-in-google{line-height:10px;height:20px;justify-self:right}nav{background-color:var(--color-scale-gray-9);padding:5px;overflow:auto;grid-area:nav;display:flex;flex-direction:column}nav items{display:flex;flex-direction:column;overflow:auto}nav button{min-height:25px;line-height:100%}button{line-height:100%;background-color:#7777;margin:2.5px 2px;border-radius:4px;padding:5px;border:0;text-align:left;color:inherit;font:inherit;font-size:.8em;font-weight:500;cursor:pointer}button:hover{background-color:#777}main{grid-area:main;display:grid;grid-template-rows:auto 40px;padding:10px}main textarea{background-color:var(--color-scale-gray-9);border:1px solid var(--color-scale-gray-8);resize:vertical;height:100%;overflow:auto}main controls{display:flex;align-items:center}main controls #done:hover{background-color:var(--positive-green);color:#fff}main controls #invalid:hover{background-color:var(--negative-red);color:#fff}describers{grid-area:describers;background:var(--color-scale-gray-8);overflow:auto;font-family:monospace;display:flex;flex-wrap:wrap}describers label{padding:2px;background:red;margin:1px;cursor:pointer}nav button.selected{background-color:var(--fancy-blue)}:disabled{filter:brightness(.8);cursor:not-allowed}.mine_chop_dig-loading{position:relative;overflow:visible;--color1:var(--color-scale-gray-5);--color2:blue}.mine_chop_dig-loading::after{content:'';position:absolute;top:5px;right:5px;width:10px;height:20px;transform:scaleX(2) scale(2);transform-origin:top right;background:url(../assets/textures/ui/mine_chop_dig_animation.png) no-repeat 0/910px 100%;image-rendering:pixelated;animation:mine_chop_dig 4s steps(91) infinite;filter:drop-shadow(2px 2px 1px var(--color-scale-black))}.mine_chop_dig-loading::before{content:'';position:absolute;top:5px;right:5px;width:10px;height:20px;transform:scaleX(2) scale(1.5);border-radius:100%}button.mine_chop_dig-loading{overflow:hidden}button.mine_chop_dig-loading::after{top:50%;left:50%;transform-origin:center;transform:translate(-50%,-50%) scaleX(2);filter:none}button.mine_chop_dig-loading::before{top:0;left:0;width:100%;height:100%;border-radius:0;transform:none;filter:none;background:var(--color1)}@keyframes mine_chop_dig{to{background-position-x:-910px}}.dimmed{text-decoration:line-through;opacity:.5}</style></head><body><header><h1>RHC Wiki Admin</h1><button id="sign-in-google">Sign in</button></header><nav aria-placeholder="Once you signin with Google, all your pending notes will be shown here"><button onclick="path='user-gists/',UI.notes.refresh()">Go to home</button><items></items></nav><main><textarea id="previewer" placeholder="Select a file to view it's contents here"></textarea><controls><button disabled id="move">Move</button> <button disabled id="copy">Copy</button> <button disabled id="dim">Dim note</button> <button id="update-dimmed-notes">Update dimmed notes</button></controls><related-links></related-links></main><describers><label><input type="checkbox" data-auth-id="OkuuTu5CfGQBMf7e2O3u4L99chy1" title="Cubfan,Joehills,Xisuma">MMA</label> <label><input type="checkbox" data-auth-id="tiWKJSPTN7brUHhd502UGVicVgC2" title="BdoubleO,Etho,Gemini,Impulse,Keralis,TangoTek,Zedaph">PigMatt</label> <label><input type="checkbox" data-auth-id="adSX7b8KocMp8VPDrcyNZEKHl2N2" title="xBCrafted">HC Snippets</label> <label><input type="checkbox" data-auth-id="f8ZgutMb8eaNGnXFrz3DLNkQBtq2" title="Grian,Mumbo,Pearl,Scar,Cleo">SpaceLlamaCow</label></describers><script src="https://www.gstatic.com/firebasejs/8.7.1/firebase-app.js"></script><script src="https://www.gstatic.com/firebasejs/8.7.1/firebase-analytics.js"></script><script src="https://www.gstatic.com/firebasejs/8.7.1/firebase-storage.js"></script><script src="https://www.gstatic.com/firebasejs/8.7.1/firebase-auth.js"></script><script>let firebaseConfig = {
            apiKey: "AIzaSyD2VLt1-ndAHkiuuWFI4azAizlPK0gDbhk",
            authDomain: "rhc-wiki.web.app",
            projectId: "rhc-wiki",
            storageBucket: "gs://rhc-wiki.appspot.com",
            appId: "1:146740494079:web:212bce76fc79cef09456ca",
        };
        firebase.initializeApp(firebaseConfig);</script>
    <script>
        const $=x=>document.querySelector(x),previewer=$("#previewer");let path="user-gists/";const updateDimNotes=()=>{localStorage.getItem("dimNotes")?.split(",").forEach(dimNote=>{[...document.querySelectorAll(`[data-name="${dimNote}"`)].forEach(elm=>elm.classList.add("dimmed"))}),console.log("akak")};updateDimNotes();const UI={showFile(e){UI.notes.selectedNote=null,UI.loading(e.target,!0),"folder"===e.target.dataset.type&&firebase.storage().ref().child(`${e.target.dataset.fullpath}/`).listAll().then(result=>{console.log(result),UI.notes.allNotes=result,path=`${e.target.dataset.fullpath}/`,UI.loading($("nav items"),!1)}).catch(error=>{console.log(error),UI.loading($("nav items"),!1)}),"file"===e.target.dataset.type&&firebase.storage().ref().child(e.target.dataset.fullpath).getDownloadURL().then(url=>{const xhr=new XMLHttpRequest;xhr.open("GET",url),xhr.addEventListener("readystatechange",()=>{if(4===xhr.readyState)try{var json=JSON.parse(xhr.response);UI.notes.selectedNote={elm:e.target,message:json,path:e.target.dataset.fullpath,name:e.target.textContent},UI.loading(e.target,!1)}catch(error){console.log(error),UI.notes.selectedNote={elm:e.target,message:null,path:e.target.dataset.fullpath,name:e.target.textContent},UI.loading(e.target,!1)}}),xhr.send()}).catch(error=>{console.log(error),UI.loading(e.target,!1)})},loading(elm,loading="toggle",blockPointerEvents=!0,colorArray=[]){switch(loading){case!0:blockPointerEvents&&(elm.disabled=!0),colorArray[0]&&elm.style.setProperty("--color1",colorArray[0]),colorArray[1]&&elm.style.setProperty("--color2",colorArray[1]),elm.classList.add("mine_chop_dig-loading");break;case!1:blockPointerEvents&&(elm.disabled=!1),elm.classList.remove("mine_chop_dig-loading"),colorArray[0]&&elm.style.setProperty("--color1",colorArray[0]);break;case"toggle":blockPointerEvents&&elm.classList.contains("mine_chop_dig-loading")?UI.loading(elm,!1,blockPointerEvents,colorArray):UI.loading(elm,!0,blockPointerEvents,colorArray)}},notes:new Proxy({selectedNote:null,allSelectedNotes:[],allNotes:[],refresh(){previewer.value="",UI.loading($("nav items"),!0),firebase.storage().ref().child(path).listAll().then(result=>{console.log(result),UI.notes.allNotes=result,UI.loading($("nav items"),!1)}).catch(error=>{console.log(error),UI.loading($("nav items"),!1)})}},{set:(target,property,value,reciever)=>{if("selectedNote"===property){if($("related-links").innerHTML="Related Links:",target[property]&&target[property].elm.classList.remove("selected"),[...$("describers").children].forEach(elm=>elm.style.backgroundColor=""),value){if(console.log(value),value.elm.classList.add("selected"),previewer.value=value.message?.message||value.message||"Defected File.",value.message?.hermit&&"--None--"!==value.message?.hermit){[...$("describers").children].forEach(elm=>{elm.children[0].title.split(",").forEach(x=>{x.trim().toLowerCase()===value.message.hermit.trim().toLowerCase()&&(elm.style.backgroundColor="lime")})});let hermitButton=document.createElement("a");hermitButton.textContent=value.message.hermit,hermitButton.href=`https://reddit.com/r/Hermitcraft/wiki/${value.message.hermit}`,hermitButton.target="_blank",hermitButton.title=`Open ${value.message.hermit}'s wiki page in new tab`,$("related-links").append(hermitButton)}if(value.message?.season&&"--None--"!==value.message?.season){let seasonButton=document.createElement("a");seasonButton.textContent=`Season ${value.message.season}`,seasonButton.href=`https://reddit.com/r/Hermitcraft/wiki/season_${value.message.season}`,seasonButton.target="_blank",seasonButton.title=`Open season ${value.message.season} wiki page in new tab`,$("related-links").append(seasonButton)}$("#move").disabled=!1,$("#copy").disabled=!1,$("#dim").disabled=!1}else previewer.value="",$("#move").disabled=!0,$("#copy").disabled=!0,$("#dim").disabled=!0;target[property]=value}"allNotes"===property&&(target.selectedNote=null,$("nav items").innerHTML="",value.prefixes.forEach(folder=>{let tempButton=document.createElement("button");tempButton.textContent=folder.name,tempButton.dataset.type="folder",tempButton.dataset.fullpath=folder.fullPath,tempButton.onclick=UI.showFile,$("nav items").append(tempButton)}),value.items.forEach(file=>{let tempButton=document.createElement("button");tempButton.textContent=file.name,tempButton.dataset.type="file",tempButton.dataset.fullpath=file.fullPath,tempButton.dataset.name=file.name,tempButton.onclick=e=>{if(e.altKey){let dimNotes=localStorage.getItem("dimNotes");dimNotes.split(",").includes(e.target.dataset.name)?(dimNotes=dimNotes.split(","),dimNotes.splice(dimNotes.indexOf(e.target.dataset.name),1),localStorage.setItem("dimNotes",dimNotes.join()),e.target.classList.remove("dimmed")):localStorage.setItem("dimNotes",dimNotes+`,${e.target.dataset.name}`),updateDimNotes()}else e.ctrlKey?UI.allSelectedNotes.push(e.target.name):UI.showFile(e)},$("nav items").append(tempButton)}),updateDimNotes())}})},FIREBASE={authProviders:{google:new 
firebase.auth.GoogleAuthProvider},async authenticate(provider){UI.loading($("#sign-in-google"),!0);try{var result=await firebase.auth().signInWithPopup(provider),user=(result.credential.accessToken,result.user);$("#sign-in-google").textContent=`Sign out of ${user.displayName}`,UI.loading($("#sign-in-google"),!1)}catch(error){console.log(error),UI.loading($("#sign-in-google"),!1)}},signOut(){UI.loading($("#sign-in-google"),!0),firebase.auth().signOut().then(()=>{$("#sign-in-google").textContent="Sign in with Google",UI.notes.refresh(),UI.loading($("#sign-in-google"),!1)}).catch(error=>{UI.loading($("#sign-in-google"),!1)})},uploadText(message,metadata="application/json",fileName){const storageRef=firebase.storage().ref();metadata={contentType:metadata};let gistRef=storageRef.child(fileName||"user-gists/"+Date.now()+".json");return gistRef.putString(message,void 0,metadata)},async moveFirebaseFile(currentPath,destinationPath,operation="move"){let message="";if("move"!==operation&&"copy"!==operation)message=operation;else{var url=await firebase.storage().ref().child(currentPath).getDownloadURL();const xhr=new XMLHttpRequest;xhr.open("GET",url,!1);try{xhr.send(),200!==xhr.status?console.log(`Error ${xhr.status}: ${xhr.statusText}`):message=xhr.response}catch(error){console.log(error)}}console.log(operation),console.log(message);try{var deleteStatus,putStringStatus=await firebase.storage().ref().child(destinationPath).putString(message,void 0,{contentType:"application/json"});console.log(putStringStatus),"move"===operation&&(deleteStatus=await firebase.storage().ref().child(currentPath).delete(),console.log(deleteStatus))}catch(error){console.log(error)}},user:null};UI.loading($("#sign-in-google"),!0),firebase.auth().onAuthStateChanged(function(user){user?(FIREBASE.user=user,$("#sign-in-google").textContent=`Sign out of ${user.displayName}`,$("#sign-in-google").onclick=()=>{FIREBASE.signOut()},UI.notes.refresh()):$("#sign-in-google").onclick=()=>{FIREBASE.authenticate(FIREBASE.authProviders.google)},UI.loading($("#sign-in-google"),!1)}),$("#move").onclick=async()=>{setTimeout(()=>UI.loading($("#move"),!0,void 0),0);let checkedDescribers=[];[...$("describers").children].forEach(elm=>{elm.checked&&checkedDescribers.push(elm.dataset.authId)}),checkedDescribers.forEach(describer=>{FIREBASE.moveFirebaseFile(null,`describers/user-data/${describer}/${UI.notes.selectedNote.name}`,JSON.stringify(UI.notes.selectedNote.message))});var deleteStatus=await firebase.storage().ref().child(UI.notes.selectedNote.path).delete();console.log(deleteStatus),UI.notes.refresh(),setTimeout(()=>UI.loading($("#move"),!1),0)},$("#copy").onclick=async()=>{setTimeout(()=>UI.loading($("#copy"),!0,void 0),0);let checkedDescribers=[];[...$("describers").children].forEach(elm=>{elm.children[0].checked&&checkedDescribers.push(elm.children[0].dataset.authId)}),console.log(checkedDescribers),checkedDescribers.forEach(async describer=>{console.log("inside copy1.5"),await FIREBASE.moveFirebaseFile(null,`describers/user-data/${describer}/${UI.notes.selectedNote.name}`,JSON.stringify(UI.notes.selectedNote.message)),console.log("inside copy1.75")}),console.log("inside copy2"),UI.notes.refresh(),setTimeout(()=>UI.loading($("#copy"),!1),0)},$("#dim").onclick=()=>{let dimNotes=localStorage.getItem("dimNotes");dimNotes.split(",").includes(UI.notes.selectedNote.elm.dataset.name)?(dimNotes=dimNotes.split(","),dimNotes.splice(dimNotes.indexOf(UI.notes.selectedNote.elm.dataset.name),1),localStorage.setItem("dimNotes",dimNotes.join()),UI.notes.selectedNote.elm.classList.remove("dimmed")):localStorage.setItem("dimNotes",dimNotes+`,${UI.notes.selectedNote.elm.dataset.name}`),updateDimNotes()},$("#update-dimmed-notes").onclick=()=>{var oldHistory=localStorage.getItem("dimNotes");localStorage.setItem("dimNotes",previewer.value),previewer.value=oldHistory};
    </script>    
    </body></html>